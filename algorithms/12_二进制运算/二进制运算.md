# **二进制的表示**

在Python中可以通过以"0b"或者"-0b"开头的字符串来表示二进制

``` python
# python中二进制的表现格式为 0b 加二进制值。
# 比如二进制 00101100 在 python 的表现格式就为 0b101100,
# 前置 0 可以省略，就是二进制从第一位开始的连续的 0 可以省略
# 比如二进制 00101100，可以缩写为 101100

print 0b101     # 输出  5
print 0b10      # 输出  2
print 0b111     # 输出  7
print -0b101    # 输出 -5
```
## **十进制转二进制**

当我们需要看十进制数字的二进制表示时，可以使用bin函数

``` python
bin(5)      # 输出 0b101
```

## **二进制转十进制**
``` python
函数介绍：int()函数用于将十进制数字转化为二进制数字
用法：int("二进制数据", base = 数据类型)

计算二进制 '0b1100100' 的十进制数据
int('0b1100100', base = 2)

结果
100
```

# **二进制运算**
从现代计算机中所有的数据二进制的形式存储在设备中。即 0、1 两种状态，计算机对二进制数据进行的运算(+、-、*、/)都是叫位运算，即将符号位共同参与运算的运算。

位运算符只对整数起作用。

| 符号 | 描述     | 英文        | 运算规则                                    |
|------|----------|-------------|-------------------------------------------|
| &    | 与       | and         | 两个位都为 1 时，结果才1                    |
| 竖杠 | 或       | or          | 两个位都为 0 时，结果才0                    |
| ~    | 取反(非) | not         | 0 变 1，1 变0                             |
| ^    | 异或     | xor         | 两个位相同为0，相异为1                      |
| <<   | 左移     | left shift  | 各二进位全部左移若干位，高位丢弃，低位补0   |
| >>   | 右移     | right shift | 各二进位全部右移若干位，正数左补0，负数左补1 |
| >>>   | 头部补零右移|    | 各二进位全部右移若干位，头部一律补零，不考虑符号位 |


## **1. 按位"与"运算符(&)**

    两位同时为1，结果才为1，否则结果为0。

运算规则：
``` python
0&0=0  0&1=0  1&0=0  1&1=1
```

例如：3&5 即 0011 & 0101 = 0001，因此 3 & 5 = 1

注意：负数按补码形式参加按位与运算。

### 与运算的用途：
    1）清零
    如果想将一个单元清零，即使其全部二进制位为0，只要与一个各位都为零的数值相与，结果为零。

    2）取一个数的指定位
    比如取数 X=1010 1110 的低4位，只需要另找一个数Y，令Y的低4位为1，其余位为0，即Y=0000 1111，然后将X与Y进行按位与运算（X&Y=0000 1110）即可得到X的指定位。

    3）判断奇偶
    只要根据最未位是0还是1来决定，为0就是偶数，为1就是奇数。因此可以用if ((a & 1) == 0)代替if (a % 2 == 0)来判断a是不是偶数。



## **2. 按位"或"运算符 (|)**

    两个二进制位之中只要有一个为 1，就返回 1，否则返回 0。

运算规则：
``` python
0|0=0  0|1=1  1|0=1  1|1=1
```

例如：3|5 即 0011| 0101 = 0111，因此，3|5 的值得 7。　

注意：负数按补码形式参加按位或运算。

### 或运算的用途：

    1）常用来对一个数据的某些位设置为1
    比如将数 X=1010 1110 的低4位设置为1，只需要另找一个数Y，令Y的低4位为1，其余位为0，即Y=0000 1111，然后将X与Y进行按位或运算（X|Y=1010 1111）即可得到。



## **3. 否/取反 运算符 (~)**

    将每个二进制位都变为相反值（0 变为 1，1 变为 0）

运算规则：
``` python
~1 = 0
~0 = 1
```

### 取反运算的用途：

    1）使一个数的最低位为零
    
    使a的最低位为0，可以表示为：a & ~1。~1的值为 1111 1111 1111 1110，再按"与"运算，最低位一定为0。因为" ~"运算符的优先级比算术运算符、关系运算符、逻辑运算符和其他运算符都高。



## **4. 异或运算符 (^)**

    参加运算的两个对象，如果两个相应位相同为0，相异为1。

运算规则：
``` python
0^0=0  0^1=1  1^0=1  1^1=0
```

### 异或的几条性质:
    1、交换律：a ^ b ^ c <=> a ^ c ^ b
    2、结合律： (a^b) ^ c == a ^ (b^c)
    3、任何数于 0 异或 为任何数 0 ^ n => n
    4、相同的数异或为 0: n ^ n => 0
    5、自反性: a ^ b ^ b = a ^ 0 = a

### 异或运算的用途：
    1）翻转指定位
    比如将数 X=1010 1110 的低4位进行翻转，只需要另找一个数Y，令Y的低4位为1，其余位为0，即Y=0000 1111，然后将X与Y进行异或运算（X^Y=1010 0001）即可得到。

    2）与0相异或值不变
    例如：1010 1110 ^ 0000 0000 = 1010 1110

    3）交换两个数
    连续对两个数a和b进行三次异或运算，a^=b; b^=a; a^=b;，可以互换它们的值。这意味着，使用“异或运算”可以在不引入临时变量的前提下，互换两个变量的值。
    
``` python
# 交换两个数实例:
a = 1234
b = 5678
def Swap(int(a), int(b)):
    if a != b:
        a ^= b
        b ^= a
        a ^= b
a # 5678
b # 1234
```

## **5. 左移运算符 (<<)**

    定义：将一个运算对象的各二进制位全部左移若干位（左边的二进制位丢弃，右边补0）。

``` python
设 a = 1010 1110，a = a << 2 将 a 的二进制位左移 2 位、右补 0，
即 a = 1011 1000。

若左移时舍弃的高位不包含1，则每左移一位，相当于该数乘以2。

print (4 << 1)
8
# 4 的二进制形式为100，
# 4 左移一位为 1000 (即十进制的 8 )
# 相当于乘以 2 的 1 次方
```

## **6. 右移运算符 (>>)**

    定义：将一个数的各二进制位全部右移若干位，正数左补0，负数左补1，右边丢弃。右移运算符基本上相当于除以2的指定次方

``` python
例如：a = a >> 2 将a的二进制位右移2位，左补0 或者 左补1得看被移数是正还是负。

设 a = 1010 1110，a = a >> 2 将 a 的二进制位左移 2 位、正数左补 0，
即 a = 0010 1011。

操作数每右移一位，相当于该数除以2。
print (4 >> 1)
2
# 4 的二进制形式为100，
# 4 右移一位为 10 (即十进制的 2 )
# 相当于除以 2 的 1 次方
```

## **7. 右移运算符 (>>>)**
头部补零的右移运算符（>>>）与右移运算符（>>）只有一个差别，就是一个数的二进制形式向右移动时，头部一律补零，而不考虑符号位。所以，该运算总是得到正值。对于正数，该运算的结果与右移运算符（>>）完全一致，区别主要在于负数。

## **复合赋值运算符**

位运算符与赋值运算符结合，组成新的复合赋值运算符，它们是：

    &=       例：a&=b    相当于：  a = a & b

    |=       例：a|=b    相当于：  a = a | b

    >>=      例：a>>=b   相当于：  a = a >> b

    <<=      例：a<<=b   相当于：  a = a << b

    ^=       例：a^=b    相当于：  a = a ^ b


运算规则：和前面讲的复合赋值运算符的运算规则相似。

不同长度的数据进行位运算：如果两个不同长度的数据进行位运算时，系统会将二者按右端对齐，然后进行位运算。

以"与运算"为例说明如下：我们知道在C语言中long型占4个字节，int型占2个字节，如果一个long型数据与一个int型数据进行"与运算"，右端对齐后，左边不足的位依下面三种情况补足，

    1）如果整型数据为正数，左边补16个0。
    2）如果整型数据为负数，左边补16个1。
    3）如果整形数据为无符号数，左边也补16个0。

    如：long a=123；int b=1；计算a& b。
    如：long a=123；int b=-1；计算a& b。
    如：long a=123；unsigned intb=1；计算a & b。

``` python
a = 60            # 60 = 0011 1100
b = 13            # 13 = 0000 1101

c = a & b;        # result of AND           12 = 0000 1100

c = a | b;        # result of OR            61 = 0011 1101 

c = a ^ b;        # result of EXOR          49 = 0011 0001

c = ~a;           # result of COMPLEMENT    -61 = 1100 0011

c = a << 2;       # result of LEFT SHIFT    240 = 1111 0000

c = a >> 2;       # result of RIGHT SHIFT   15 = 0000 1111
```

# **运算技巧**
对于整数 val 二进制的第 i 位，我们可以用代码 (val >> i) & 1 来取出其第 i 位的值
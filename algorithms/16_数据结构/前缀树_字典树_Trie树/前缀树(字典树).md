# 前缀树

Trie树，即字典树，又称单词查找树或键树，是一种特殊的多叉树，是一种哈希树的变种。

典型应用是用于统计和排序大量的字符串（但不仅限于字符串），所以经常被搜索引擎系统用于文本词频统计。

Trie的核心思想是空间换时间。利用字符串的公共前缀来降低查询时间的开销以达到提高效率的目的。

它的 TrieNode 中 chidren 是一个大小为 26 的一维数组（当输入只有小写字符），分别对应了26个英文字符 'a' ~ 'z'，也就是说形成了一棵「26 叉树」。


## 前缀树的基本性质：
    1. 根节点不包含字符，除根节点外每一个节点都只包含一个字符。
    2. 从根节点到某一节点，路径上经过的字符连接起来，为该节点对应的字符串。
    3. 每个节点的所有子节点包含的字符都不相同。

与二叉查找树不同，键不是直接保存在节点中，而是由节点在树中的位置决定。

## 前缀树的结构
<div align="center"> <img src="https://tsejx.github.io/data-structure-and-algorithms-guidebook/static/sample.c908915f.png" alt="Editor" width="350"> </div>

它的 TrieNode 中 chidren 是一个大小为 26 的一维数组（当输入只有小写字符），
分别对应了26个英文字符 'a' ~ 'z'，也就是说形成了一棵「26 叉树」。

## 例子：前缀树用作字典

下面是一棵「前缀树」，其中保存了 {"am", "an", "as", "b", "c", "cv"} 这些关键词。图中红色表示 isWord 为 true。

在构建前缀树的时候，按照下面的方法：

    根节点不保存任何信息；
    
    关键词放到「前缀树」时，需要把它拆成各个字符，每个字符按照其在 'a' ~ 'z' 的序号，放在 chidren 对应的位置里面。下一个字符是当前字符的子节点。
    
    一个输入字符串构建「前缀树」结束的时候，需要把该节点的 isWord 标记为 true，说明从根节点到当前节点的路径，构成了一个关键词。

<div align="center"> <img src="https://pic.leetcode-cn.com/1618365912-EDUCmo-208.003.jpeg#id=sR76J&originHeight=1080&originWidth=1920&originalType=binary&ratio=1&status=done&style=none" alt="Editor" width="350"> </div>

    1. 所有以相同字符开头的字符串，会聚合到同一个子树上。比如 {"am", "an", "as"} ；
    
    2. 并不一定是到达叶子节点才形成了一个关键词，只要 isWord 为 true，那么从根节点到当前节点的路径就是关键词。比如 {"c", "cv"} 
    
有些题解把字符画在了节点中，我认为是不准确的。因为前缀树是根据 字符在 children 中的位置确定子树，而不真正在树中存储了  'a' ~ 'z' 这些字符。树中每个节点存储的 isWord，表示从根节点到当前节点的路径是否构成了一个关键词。

### 查询

在判断一个关键词是否在「前缀树」中时，需要依次遍历该关键词所有字符，在前缀树中找出这条路径。可能出现三种情况：

    1. 在寻找路径的过程中，发现到某个位置路径断了。比如在上面的前缀树图中寻找 "d" 或者 "ar" 或者 "any" ，由于树中没有构建对应的节点，那么就查找不到这些关键词；
    
    2. 找到了这条路径，但是最后一个节点的 isWord 为 false。这也说明没有该关键词。比如在上面的前缀树图中寻找 "a" ；
    
    3. 找到了这条路径，并且最后一个节点的 isWord 为 true。这说明前缀树存储了这个关键词，比如上面前缀树图中的 "am" , "cv" 等。


## 前缀树的应用

    比如我们常见的电话拨号键盘，当我们输入一些数字的时候，后面会自动提示以我们的输入数字为开头的所有号码。
    比如我们的英文输入法，当我们输入半个单词的时候，输入法上面会自动联想和补全后面可能的单词。
    再比如在搜索框搜索的时候，输入"北京"，后面会联想到 北京奥运会 。


